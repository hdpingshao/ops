### 一、性能指标

- 当看到性能指标时，你会首先想到什么呢？我相信"高并发"和"响应快"一定是最先出现在你脑海里的两个词，而它们也正对应着性能优化的两个核心指标——"吞吐"和"延时"。这两个指标是从应用负载的视角来考察性能，直接影响了产品终端的用户体验。跟它们对应的，是从系统资源的视角出发的指标，比如资源使用率、饱和度等。

- 我们知道，随着应用负载的增加，系统资源的使用也会升高，甚至达到极限。而性能问题的本质，就是系统资源已经达到瓶颈，但请求的处理却还不够快，无法支撑更多的请求。

- 性能分析，其实就是找出应用或系统的瓶颈，并设法去避免或者缓解它们，从而更高效地利用系统资源处理更多的请求。这包含了一些列的步骤，比如下面这六个步骤。

> - 1、选择指标评估应用程序和系统的性能；

> - 2、为应用程序和系统设置性能目标；

> - 3、进行性能基准测试；
 
> - 4、性能分析定位瓶颈；

> - 5、优化系统和应用程序；

> - 6、性能监控和告警

### 二、学习重点

> - 1、理解最基本的几个系统知识原理；

> - 2、掌握必要的性能工具；

> - 3、通过实际的场景演练，贯穿不同的组件。

- 其实说到性能工具，就不得不提性能领域的大师布伦丹·格雷格（Brendan Gregg）。他不仅是动态追踪工具DTrace的作者，还开发了许许多多的性能工具。如下为他所描绘的Linux性能工具图谱：

![image](https://github.com/hdpingshao/ops/tree/master/Linux_performance/images/linux1.png)

- 这个图是Linux性能分析最重要的参考资料之一，它告诉你，在Linux不同子系统出现性能问题后，应该用什么样的工具来观测和分析。

- 比如，当遇到I/O性能问题时，可以参考图片最下方的I/O子系统，使用iostat、iotop、blktrace等工具分析磁盘I/O的瓶颈。

- 另外特别强调的一点，就是性能工具的选用。有句话是这么说的，一个正确的选择胜过千百次的努力。虽然夸张了些，但是选用合适的性能工具，确实可以大大简化整个性能优化过程。在什么场景选用什么样的工具、以及怎么学会选择合适工具，都是相当的重要的。但是切记，千万不要把性能工具当成学习的全部。工具知识解决问题的手段，关键在与你如何去使用它们。只有真正理解了它们背后的原理，并且结合具体场景，融会贯通系统的不同组件，参能更好的去使用它们。

- 参考一张学习思维导图：

![image](https://github.com/hdpingshao/ops/tree/master/Linux_performance/images/linux2.png)

### 三、高效学习法

- 1、虽然系统的原理很重要，但在刚开始一定不要试图抓住所有的实现细节

- 2、边学边实践，通过大量的案例演习掌握Linux性能的分析和优化

- 3、勤思考，多反思，善总结，多问为什么；想学好一门知识，最好的方法就是问问题。当你能提出好的问题时，就说明你已经深入了解它了。